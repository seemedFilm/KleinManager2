services:
  kleinmanager:
    build: .
    container_name: kleinmanager
    ports:
      - "8080:8000"   # Webinterface port
      - "5678:5678"   # Debugging port
    volumes:
      - /docker/kleinmanager/data:/app/data
      - /docker/kleinmanager/ads:/app/ads  # ðŸ‘ˆ Mount fÃ¼r JSON-Daten
    depends_on:
      - kleinbot
    # Debug aktivieren
    # command: python -m debugpy --listen 0.0.0.0:5678 -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

  kleinbot:
   build: ./kleinanzeigen-bot
   container_name: kleinbot
   volumes:
     - /docker/kleinbot/data:/app/data
   stdin_open: true
   tty: true
   command: tail -f /dev/null   # Bot lÃ¤uft nicht automatisch, sondern wartet
